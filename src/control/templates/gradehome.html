<!DOCTYPE html>
<html>
<head>
    <title>Grade Exam</title>

<!-- JQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>

<!-- Helper Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/js/bootstrap-select.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/css/bootstrap-select.min.css">

<!-- Select Upgrades -->
<link href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.2-rc.1/css/select2.min.css" rel="stylesheet" />
<script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.2-rc.1/js/select2.min.js"></script>
<link rel="stylesheet" href="css/select2-bootstrap.min.css">

<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="js/codemirror/lib/codemirror.css">
<script src="js/codemirror/lib/codemirror.js"></script>
<script src="js/codemirror/addon/edit/matchbrackets.js"></script>
<link rel="stylesheet" href="js/codemirror/addon/hint/show-hint.css">
<script src="js/codemirror/addon/hint/show-hint.js"></script>
<script src="js/clike.js"></script>

<meta charset="utf-8"/>
<style>
.CodeMirror {
    height: 300px;
        border: 1px solid #000;
}
body {
    margin-top: 70px;
    margin-bottom: 70px;
}
textarea {
    width: 100%;
}
.question-group .form-group {
    margin-left: 20px;
        margin-right: 20px;
}

.indented {
    margin-left: 20px;
    margin-right: 20px;
}

.recents {
    padding-right: 8px;
}
</style>
</head>

<body role="document">
{% from 'page_navigation.html' import topNavigation,footer %}
{{ topNavigation(user) }}

<div class="container" role="main">
    <h1>Grade: {{data.info.title}}</h1>
    <p>Use the links below to grade the exam.  Grading is done at random.</p>

    {% if data.message %}
    <div class="alert alert-01 alert-success" id="success-message">
        <p>{{data.message}}</p>
    </div><!-- end alert -->
    {% endif %}
    <div class="row">
        <div class="col-md-12">
            <h2>Current Stats</h2>
            {% set i = 1 %}
            {% for question in data.info.questions %}
            <p>Question {{i}}</p> 
            <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="{{question.percent}}" aria-valuemin="0" aria-valuemax="100" style="width: {{question.percent}}%;">
                    {{question.percent}}%
                </div>
            </div>
            {% set i = i + 1 %}
            {% endfor %}
           
        </div>

        <div class="col-md-12">
            <h2>Begin Grading</h2>
            {% set i = 1 %}
            {% for qid, question in data.info.questions %}
            <h4>Question {{i}}</h4>
            {% if question.percent != 100 %}
            <p><a class="btn btn-primary" href="?c=grade_random&q={{question.id}}&e={{data.info.id}}">Grade Random</a></p>
            {% else %}
            <p><span class="btn btn-primary disabled">Grading Done!<span></p>
            {% endif %}
                {% if data.recents[question.id] %}
                <h6 class="indented">Your Recently Graded</h6>
                <p class="indented">
                {% for response in data.recents[question.id] %}
                <span class="recents"><a href="?c=grade_one&q={{question.id}}&e={{data.info.id}}&p={{response.id}}">{{response.id}}</a></span>
                {% endfor %}
                {% endif %}
            {% set i = i + 1 %}
            {% endfor %}
        </div>
    </div>



</body>
</html>

